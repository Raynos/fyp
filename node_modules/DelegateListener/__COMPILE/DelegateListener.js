;(function(e){"use strict";function c(b,a){if(!(this instanceof c))return new c(b,a);a&&a.handleEvent&&(this.b=a,a=a.handleEvent);this.filter=b;this.a=a}c.prototype.handleEvent=function(b){var a=b.target,d=b.currentTarget,c;do 1===a.nodeType&&this.match(a,this.filter)&&(b.currentTarget=d,b.currentTarget!==d&&(delete b.currentTarget,b.currentTarget=d),b.target=a,b.target!==a&&(delete b.target,b.target=a),this.a&&(c=this.a.call(this.b||d,b)));while(!1!==c&&a!=d&&(a=a.parentNode));return c};c.prototype.match=function(b,
a){switch(typeof a){case "string":return b.matchesSelector(a);case "object":return Object.keys(a).every(function(c){return void 0!==a[c]?b.getAttribute(c)===a[c]:b.hasAttribute(c)});case "function":return a(b)}};"undefined"!==typeof module&&module.exports?module.exports=c:"undefined"!==typeof e&&(e.DelegateListener=c)})(this);